:root{
  --gold:#FFA726;
  --gold-2:#FFC46B;
  --evergreen:#0F3D2E;
  --deep:#2C225A;
  --red:#8B1E3F;
  --snow:#F7F5EC;
  --ink:#111111;
  --blue-top:#0f1d5a;
  --blue-mid:#15124a;
  --blue-bottom:#0b1338;
  --door-h:160px; /* unified door height (closed and open) */
  /* action row now renders inside the door; no extra row height needed */
}
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700;800&family=Cinzel+Decorative:wght@700&display=swap');
html{background:linear-gradient(180deg,var(--blue-top) 0%, var(--blue-mid) 60%, var(--blue-bottom) 100%);min-height:100%;background-color:#0b1338}
body{background:linear-gradient(180deg,var(--blue-top) 0%, var(--blue-mid) 60%, var(--blue-bottom) 100%);background-color:#0b1338}
*{box-sizing:border-box}
body.ta-body{margin:0;background:linear-gradient(180deg,var(--blue-top) 0%, var(--blue-mid) 60%, var(--blue-bottom) 100%);color:var(--snow);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;position:relative;overflow-x:hidden;min-height:100vh;background-color:#0b1338}
.ta-body:before{content:"";position:fixed;inset:0;pointer-events:none;opacity:.32;z-index:2;background-image:radial-gradient(1.8px 1.8px at 20px 30px, #fff 50%, rgba(255,255,255,0) 51%),radial-gradient(1.8px 1.8px at 80px 120px, #fff 50%, rgba(255,255,255,0) 51%),radial-gradient(1.8px 1.8px at 200px 50px, #fff 50%, rgba(255,255,255,0) 51%),radial-gradient(1.8px 1.8px at 320px 80px, #fff 50%, rgba(255,255,255,0) 51%);
  background-size: 420px 220px;animation:snowfall 18s linear infinite}
.ta-body:after{content:"";position:fixed;inset:0;pointer-events:none;opacity:.18;z-index:2;background-image:radial-gradient(2.6px 2.6px at 60px 40px, #fff 50%, rgba(255,255,255,0) 51%),radial-gradient(2.6px 2.6px at 220px 160px, #fff 50%, rgba(255,255,255,0) 51%),radial-gradient(2.6px 2.6px at 360px 120px, #fff 50%, rgba(255,255,255,0) 51%),radial-gradient(2.6px 2.6px at 480px 200px, #fff 50%, rgba(255,255,255,0) 51%);
  background-size: 600px 300px;animation:snowfallSlow 28s linear infinite}
.ta-header,.ta-main,.ta-footer{position:relative;z-index:1}
@keyframes snowfall{from{background-position:0 0, 0 0, 0 0, 0 0}to{background-position:0 220px, 0 220px, 0 220px, 0 220px}}
@keyframes snowfallSlow{from{background-position:0 0, 0 0, 0 0, 0 0}to{background-position:0 320px, 0 320px, 0 320px, 0 320px}}
.ta-container{max-width:1100px;margin:0 auto;padding:24px}
.ta-header{background:rgba(0,0,0,0.4);backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10;border-bottom:1px solid rgba(255,255,255,0.08)}
.ta-header-inner{display:flex;align-items:center;justify-content:space-between;gap:16px;max-width:1100px;margin:0 auto;padding:12px 24px}
.ta-brand{display:flex;align-items:center;gap:12px}
.ta-logo{width:44px;height:44px;border-radius:6px;object-fit:cover;box-shadow:0 2px 10px rgba(0,0,0,0.3)}
.ta-title{font-family:"Bebas Neue", Inter, system-ui, sans-serif;font-size:28px;letter-spacing:1px;color:var(--gold)}
.ta-nav a{color:var(--snow);text-decoration:none;margin-left:14px}
.ta-nav a:hover{color:var(--gold)}
.ta-main{min-height:60vh}
.ta-footer{border-top:1px solid rgba(255,255,255,0.08);background:rgba(0,0,0,0.35)}
.ta-page-title{margin:0 0 8px 0;font-family:"Bebas Neue", Inter, system-ui, sans-serif;color:var(--gold);letter-spacing:0.5px}
.ta-lead{opacity:.9}
.ta-actions{display:flex;gap:12px;margin:16px 0}
.ta-btn{display:inline-block;padding:10px 16px;border-radius:10px;text-decoration:none;font-weight:700}
.ta-btn-primary{background:linear-gradient(90deg,var(--gold) 0%,var(--gold-2) 100%);color:#111}
.ta-btn-primary:hover{filter:brightness(1.05)}
.ta-btn-outline{border:2px solid var(--gold);color:var(--gold)}
.ta-btn-outline:hover{background:rgba(255,167,38,0.15)}
.ta-section-title{margin-top:18px}
.ta-list{padding-left:18px}
.ta-card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;margin-top:12px}
.ta-card{display:flex;flex-direction:column;gap:4px;padding:14px;border:1px solid rgba(255,255,255,0.12);border-radius:10px;background:rgba(0,0,0,0.25);text-decoration:none;color:var(--snow)}
.ta-card:hover{border-color:var(--gold)}

/* Calendar tiles (simple baseline styles applied via inline HTML already) */
.ta-calendar{margin-top:12px}
.ta-calendar-grid{display:grid;grid-template-columns:repeat(4, 1fr);column-gap:16px;row-gap:16px;grid-auto-rows:var(--door-h)}
.ta-door-slot{position:relative;height:var(--door-h);display:flex;flex-direction:column}
.ta-door{position:relative;height:var(--door-h);perspective:1000px;border-radius:16px;overflow:hidden;width:100%}
.ta-door.is-unlocked{cursor:pointer}
.ta-door-inner{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .9s cubic-bezier(.2,.65,.2,1)}
.ta-door-front,.ta-door-back{position:absolute;inset:0;border-radius:16px;backface-visibility:hidden;box-sizing:border-box}
/* Ornate wood door with gold bevel */
.ta-door-front{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;position:relative;border:1px solid rgba(255,255,255,.12)}
/* Double door leaves */
.ta-door-leaf{position:absolute;top:0;bottom:0;width:50%;transition:transform .9s cubic-bezier(.2,.65,.2,1);transform-origin:center;backface-visibility:hidden;
  background:
    radial-gradient(120% 80% at 50% 0%, rgba(255,255,255,.07), rgba(255,255,255,0) 60%),
    repeating-linear-gradient(90deg, rgba(255,255,255,.035) 0 2px, rgba(0,0,0,.055) 2px 5px),
    repeating-linear-gradient(0deg, rgba(0,0,0,.05) 0 1px, rgba(255,255,255,.03) 1px 3px),
    #5a3b1d;
  background-size:100% 100%, 6px 100%, 100% 100%, auto;
  box-shadow:
    inset 0 0 0 2px rgba(0,0,0,.45),
    inset 0 0 0 8px rgba(255,255,255,.06),
    inset 0 0 0 14px rgba(0,0,0,.35),
    0 10px 24px rgba(0,0,0,.35);
}
.ta-door-leaf.left{left:0;border-top-left-radius:14px;border-bottom-left-radius:14px;transform-origin:left center}
.ta-door-leaf.right{right:0;border-top-right-radius:14px;border-bottom-right-radius:14px;transform-origin:right center}
/* subtle gold bevel edges */
.ta-door-leaf.left:after{content:"";position:absolute;right:-1px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,#D4AF37,#8f6e1a);opacity:.8}
.ta-door-leaf.right:after{content:"";position:absolute;left:-1px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,#D4AF37,#8f6e1a);opacity:.8}
/* Wax seal for finalized */
.ta-door.is-finalized .ta-door-front::after{content:"";position:absolute;right:10px;bottom:10px;width:38px;height:38px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #b0242b, #7a1015);box-shadow:0 3px 0 rgba(0,0,0,.35), inset 0 2px 6px rgba(255,255,255,.2)}
/* Subtle center seam */
.ta-door-front::before{content:"";position:absolute;top:6px;bottom:6px;left:50%;width:2px;transform:translateX(-50%);background:linear-gradient(180deg, rgba(255,255,255,.25), rgba(0,0,0,.5), rgba(255,255,255,.2));opacity:.5;border-radius:2px}
/* Gold knobs */
.ta-door-leaf.right::before{content:"";position:absolute;left:12px;top:50%;transform:translateY(-50%);width:12px;height:12px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #f7dfa6, #c49b22);box-shadow:0 1px 0 #fff inset, 0 0 0 2px rgba(0,0,0,.2)}
.ta-door-leaf.left::before{content:"";position:absolute;right:12px;top:50%;transform:translateY(-50%);width:12px;height:12px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #f7dfa6, #c49b22);box-shadow:0 1px 0 #fff inset, 0 0 0 2px rgba(0,0,0,.2)}
.ta-door-number{position:relative;z-index:2;font-family:"Cinzel Decorative","Cinzel", Georgia, serif;font-size:68px;letter-spacing:.5px;color:#fff;-webkit-text-stroke:1px #D4AF37;transform:translateY(8px);
  text-shadow:0 2px 0 rgba(0,0,0,.7), 0 6px 18px rgba(0,0,0,.45), 0 0 8px rgba(212,175,55,.35)}
.ta-door-label{font-size:12px;opacity:.9}
.ta-door-back{
  /* keep interior panel static for layout stability */
  opacity:0; transition:opacity .35s ease; display:flex; align-items:flex-end; justify-content:center; padding:8px 10px;
  background:
    linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.15)),
    repeating-linear-gradient(90deg, rgba(0,0,0,.08) 0 3px, rgba(255,255,255,.06) 3px 6px),
    #3a2920;
  border:1px solid rgba(255,255,255,.12);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.35);
}
.ta-door-content{padding:12px;text-align:center}
.ta-door-panels{display:grid;grid-template-columns:1fr 1fr;gap:10px;width:100%;padding:12px}
.slot-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;width:100%;padding:10px}
.slot-btn{display:inline-block;text-align:center;padding:10px 0;border-radius:10px;font-weight:800;text-decoration:none}
.slot-btn.unlocked{background:linear-gradient(90deg,var(--gold) 0%,var(--gold-2) 100%);color:#111;box-shadow:0 2px 0 rgba(0,0,0,.3)}
.slot-btn.locked{background:rgba(255,255,255,.15);color:rgba(255,255,255,.8);box-shadow:inset 0 0 0 1px rgba(255,255,255,.12);cursor:default}
.slot-btn.unlocked:hover{filter:brightness(1.05)}
@media (max-width: 520px){
  .slot-grid{grid-template-columns:1fr}
}
.ta-door-panel{border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:10px;background:rgba(0,0,0,.25)}
.ta-door-panel.locked{opacity:.7}
.ta-door-panel .label{font-size:12px;opacity:.9;margin-bottom:6px}
.ta-door-content .title{font-weight:700;margin-bottom:8px}
.ta-btn-small{display:inline-block;padding:6px 10px;border-radius:8px;background:linear-gradient(90deg,var(--gold) 0%,var(--gold-2) 100%);color:#111;text-decoration:none;font-weight:800}

/* States */
.ta-door.is-unlocked:hover .ta-door-leaf.left, .ta-door.is-open .ta-door-leaf.left{transform:rotateY(-155deg)}
.ta-door.is-unlocked:hover .ta-door-leaf.right, .ta-door.is-open .ta-door-leaf.right{transform:rotateY(155deg)}
/* Keep number visible even when open */
.ta-door.is-locked .ta-door-leaf{filter:saturate(.6) brightness(.85)}
.ta-door.is-unlocked:hover .ta-door-front, .ta-door.is-open .ta-door-front{pointer-events:none}
.ta-door.is-unlocked:hover .ta-door-back, .ta-door.is-open .ta-door-back{opacity:1}
.ta-badge{display:inline-block;padding:2px 6px;border-radius:999px;background:#2ECC71;color:#111;font-size:11px;font-weight:800;box-shadow:0 2px 0 rgba(0,0,0,.3)}
.ta-door.is-finalized .ta-badge{background:#d79c6c;color:#111}

/* Actions under door */
.ta-door-actions{position:relative;left:auto;right:auto;top:auto;display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:6px}

/* theme variants removed */

/* Quiz presentation */
.ta-container-wide{max-width:1280px;margin:0 auto;padding:24px}
.ta-quiz-header{margin-bottom:16px}
.ta-quiz-title{font-family:"Bebas Neue", Inter, system-ui, sans-serif;color:var(--gold);font-size:68px;margin:0 0 4px 0;letter-spacing:.5px}
.ta-quiz-subtitle{font-size:26px;opacity:.95;margin:0 0 14px 0}
/* Hide badge bubbles per request */
.ta-quiz-meta{display:none}
.meta-badge{display:none}
.ta-quiz-desc{display:block}
.ta-quiz-hero{border:2px solid rgba(255,255,255,.15);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.22));border-radius:18px;padding:20px 22px;margin-bottom:16px;box-shadow:0 10px 26px rgba(0,0,0,.28)}
.ta-quiz-hero-top{margin-bottom:12px}
.ta-quiz-hero-body{display:grid;grid-template-columns:1fr;gap:18px}
.meta-panel{border:2px solid rgba(255,167,38,.85);border-radius:16px;background:linear-gradient(180deg, rgba(255,167,38,.28), rgba(0,0,0,.22));padding:18px 20px;font-size:18px;box-shadow:0 10px 26px rgba(0,0,0,.35)}
.meta-panel h4{margin:0 0 10px 0;font-size:22px;color:var(--gold)}
.author-name{font-size:22px;font-weight:800;color:var(--gold);display:block;margin-bottom:6px}
.desc-panel{border:2px solid rgba(255,167,38,.85);border-radius:16px;background:linear-gradient(180deg, rgba(255,167,38,.28), rgba(0,0,0,.22));padding:18px 20px;font-size:18px;box-shadow:0 10px 26px rgba(0,0,0,.35)}
.desc-panel h4{margin:0 0 10px 0;font-size:22px;color:var(--gold)}
.rules-panel{border:2px solid rgba(255,255,255,.25);border-radius:14px;background:rgba(0,0,0,.25);padding:16px 18px;margin:12px 0}
.rules-panel h4{margin:0 0 8px 0;font-size:20px;color:var(--gold)}
.rules-list{margin:0;padding-left:18px;line-height:1.6;font-size:18px}
.quiz-card{border:1px solid rgba(255,255,255,.14);border-radius:12px;background:rgba(0,0,0,.25);padding:14px;margin:10px 0}
.quiz-qhead{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.quiz-left{display:flex;align-items:center;gap:12px}
.quiz-qnum{font-weight:800;font-size:30px;color:var(--gold)}
.quiz-cat{font-size:16px;padding:4px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.28);background:rgba(0,0,0,.25);opacity:.95}
.quiz-lock{font-size:22px}
.quiz-lock input{transform:scale(2.1);transform-origin:left center;margin-right:12px}
.quiz-text{font-size:26px;line-height:1.72;margin-bottom:14px}
.quiz-answer input[type="text"], .quiz-answer input{width:65%;max-width:660px;padding:18px 20px;border-radius:12px;border:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,.15);color:#fff;font-size:24px}
.quiz-actions{margin-top:14px}
.quiz-submit{padding:10px 16px;border-radius:10px;background:linear-gradient(90deg,var(--gold) 0%,var(--gold-2) 100%);color:#111;border:0;font-weight:800}
.quiz-submit[disabled]{filter:grayscale(1);opacity:.6}
.recap-table{width:100%;border-collapse:collapse}
.recap-table th,.recap-table td{border:1px solid rgba(255,255,255,.2);padding:8px}
.recap-table th{background:rgba(0,0,0,.25)}
@media (max-width: 700px){
  .ta-quiz-hero-body{grid-template-columns:1fr}
  .quiz-answer input[type="text"], .quiz-answer input{width:100%;max-width:none}
}

/* Admin Grader (WTF-like) */
.grader-container{max-width:1200px;margin:0 auto;padding:24px}
.grader-title{font-family:"Bebas Neue", Inter, system-ui, sans-serif;font-size:44px;margin:0 0 10px 0;color:var(--gold)}
.grader-date{opacity:.9;margin-bottom:12px}
.grader-bar{display:flex;flex-wrap:wrap;gap:8px;border-bottom:1px solid rgba(255,255,255,.15);padding-bottom:10px;margin-bottom:14px}
.grader-tab{border:1px solid rgba(255,255,255,.25);border-radius:10px;padding:6px 10px;background:rgba(0,0,0,.25);text-decoration:none;color:#fff;position:relative}
.grader-tab .bubble{position:absolute;top:-8px;right:-8px;background:#FFC46B;color:#111;border-radius:999px;font-weight:800;font-size:12px;padding:2px 6px}
.grader-section{border:1px solid rgba(255,255,255,.18);border-radius:14px;background:rgba(0,0,0,.22);padding:16px;margin:14px 0}
.grader-qtitle{font-size:24px;font-weight:800;color:var(--gold);margin:0 0 8px 0}
.grader-qtext{opacity:.95;margin-bottom:8px}
.grader-correct{display:inline-block;border:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,.25);padding:8px 12px;border-radius:10px;margin-bottom:8px}
.grader-stats{opacity:.95;margin:6px 0 12px 0}
.grader-table{width:100%;border-collapse:collapse}
.grader-table th,.grader-table td{border:1px solid rgba(255,255,255,.2);padding:8px}
.grader-table th{background:rgba(0,0,0,.25)}
.btn-row form button{margin-right:6px}
.btn-save{display:inline-block;margin:12px 0;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--gold),var(--gold-2));border:0;color:#111;font-weight:800}
