# Flag Reason Feature - Page Mock-ups

## Page 1: Quiz Recap Page (Player View)
**URL:** `/quiz/:id?recap=1`

### Current State:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Quiz Title (Quiz #123)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ # â”‚ Question â”‚ Your answer â”‚ Correct answer â”‚ Points â”‚ Actions â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1 â”‚ Q text   â”‚ My answer   â”‚ Correct answer â”‚ 5      â”‚ ğŸš© Flag â”‚
â”‚ 2 â”‚ Q text   â”‚ My answer   â”‚ Correct answer â”‚ 0      â”‚ ğŸš© Flag â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Proposed State:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Quiz Title (Quiz #123)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ # â”‚ Question â”‚ Your answer â”‚ Correct answer â”‚ Points â”‚ Actions â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1 â”‚ Q text   â”‚ My answer   â”‚ Correct answer â”‚ 5      â”‚         â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ [âœ“ Flagged] â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚         â”‚
â”‚ 2 â”‚ Q text   â”‚ My answer   â”‚ Correct answer â”‚ 0      â”‚         â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ â˜‘ Flag for review           â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚                             â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ Reason for appeal (optional):â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ â”‚                         â”‚ â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ â”‚ [Text area - 500 chars] â”‚ â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ â”‚                         â”‚ â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚                             â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ â„¹ï¸ Only use if you believe â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚    your answer was         â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚    incorrectly graded.     â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚    Do NOT use for typos    â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚    or misspellings.        â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚                             â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â”‚ [ğŸš© Flag for review]      â”‚ â”‚
â”‚   â”‚          â”‚             â”‚                â”‚        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Changes:**
- When flag checkbox is unchecked: Shows simple "ğŸš© Flag for review" button (current behavior)
- When flag checkbox is checked: Expands to show:
  - Checkbox stays checked
  - Optional textarea appears below
  - Instructional text explaining when to use reason
  - Submit button to save flag + reason
- If already flagged: Shows "âœ“ Flagged" status (and reason if provided)

---

## Page 2: Admin Grader Page
**URL:** `/admin/quiz/:id/grade`

### Current State:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Q1: Question text here                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Answer              â”‚ Status          â”‚ Actions            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "My answer"         â”‚ accepted â€¢ ğŸš© â€¢ 5 â”‚ [Accept] [Reject] â”‚
â”‚ "Another answer"    â”‚ rejected â€¢ ğŸš© â€¢ 2 â”‚ [Accept] [Reject] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Proposed State:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Q1: Question text here                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Answer              â”‚ Status          â”‚ Actions            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "My answer"         â”‚ accepted â€¢ ğŸš© â€¢ 5 â”‚ [Accept] [Reject] â”‚
â”‚                     â”‚                 â”‚                    â”‚
â”‚                     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                     â”‚ â”‚ ğŸš© FLAGGED (Typo/Misspelling)  â”‚ â”‚
â”‚                     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚                 â”‚                    â”‚
â”‚ "Another answer"    â”‚ rejected â€¢ ğŸš© â€¢ 2 â”‚ [Accept] [Reject] â”‚
â”‚                     â”‚                 â”‚                    â”‚
â”‚                     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                     â”‚ â”‚ ğŸš© FLAGGED - APPEAL             â”‚ â”‚
â”‚                     â”‚ â”‚                                 â”‚ â”‚
â”‚                     â”‚ â”‚ Reason:                         â”‚ â”‚
â”‚                     â”‚ â”‚ "I believe my answer 'Another'   â”‚ â”‚
â”‚                     â”‚ â”‚  should be accepted because it  â”‚ â”‚
â”‚                     â”‚ â”‚  matches the intent of the       â”‚ â”‚
â”‚                     â”‚ â”‚  question even though it's      â”‚ â”‚
â”‚                     â”‚ â”‚  worded differently."            â”‚ â”‚
â”‚                     â”‚ â”‚                                 â”‚ â”‚
â”‚                     â”‚ â”‚ Player: username@email.com      â”‚ â”‚
â”‚                     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Changes:**
- Flagged responses show a highlighted box
- **Without reason:** Shows "ğŸš© FLAGGED (Typo/Misspelling)" - simple flag
- **With reason:** Shows "ğŸš© FLAGGED - APPEAL" with:
  - Full reason text displayed
  - Player email/username shown
  - Different styling (maybe orange/yellow background vs. simple flag)
  - More prominent to draw grader attention

---

## Page 3: Admin Responses Page (Optional)
**URL:** `/admin/quiz/:id/responses`

### Current State:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Player: username@email.com                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Q# â”‚ Question â”‚ Response â”‚ Correct â”‚ Correct? â”‚ Points â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ Q text   â”‚ Answer   â”‚ Answer  â”‚ âœ“        â”‚ 5      â”‚
â”‚ 2  â”‚ Q text   â”‚ Answer   â”‚ Answer  â”‚ âœ— ğŸš©     â”‚ 0      â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Proposed State:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Player: username@email.com                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Q# â”‚ Question â”‚ Response â”‚ Correct â”‚ Correct? â”‚ Points â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ Q text   â”‚ Answer   â”‚ Answer  â”‚ âœ“        â”‚ 5      â”‚
â”‚ 2  â”‚ Q text   â”‚ Answer   â”‚ Answer  â”‚ âœ— ğŸš©     â”‚ 0      â”‚
â”‚    â”‚          â”‚          â”‚         â”‚          â”‚        â”‚
â”‚    â”‚          â”‚          â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚          â”‚          â”‚         â”‚ â”‚ Appeal Reason:     â”‚ â”‚
â”‚    â”‚          â”‚          â”‚         â”‚ â”‚ "Reason text..."   â”‚ â”‚
â”‚    â”‚          â”‚          â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Changes:**
- If response has flag reason, show expandable/collapsible section
- Click to expand and see full reason
- Helps admins quickly see which responses have appeals vs. simple flags

---

## Visual Design Notes:

### Recap Page:
- **Flag checkbox:** Small checkbox next to "Flag for review"
- **Reason field:** Appears/disappears based on checkbox state (smooth transition)
- **Character limit:** 500 characters with counter
- **Styling:** 
  - Textarea: Light background, dark text
  - Instructional text: Smaller font, italic, muted color
  - Submit button: Same styling as current flag button

### Grader Page:
- **Simple flags (no reason):**
  - Small badge: "ğŸš© Flagged"
  - Subtle background tint
  
- **Appeals (with reason):**
  - Prominent box with orange/yellow border
  - Header: "ğŸš© FLAGGED - APPEAL"
  - Reason text in readable font
  - Player info shown
  - Stands out more than simple flags

### Color Scheme:
- Simple flag: Subtle gray/blue tint
- Appeal flag: Orange/yellow (#ff9800) to draw attention
- Text: Dark on light background for readability

---

## User Flow:

1. **Player views recap** â†’ Sees their answers and scores
2. **Player wants to flag** â†’ Clicks "Flag for review" checkbox
3. **Optional reason appears** â†’ If they believe it's incorrectly graded, they can add reason
4. **Player submits** â†’ Flag + reason (if provided) saved
5. **Admin sees in grader** â†’ 
   - Simple flags: Quick visual indicator
   - Appeals: Prominent box with reason requiring attention
6. **Admin reviews** â†’ Can see player's reasoning and make informed decision

---

## Edge Cases:

- **Editing flag:** If player already flagged, allow them to add/edit reason
- **Removing flag:** Allow unflagging (clears both flag and reason)
- **Character limit:** Show remaining characters (500 max)
- **Empty reason:** Still allow flagging without reason (typo case)

